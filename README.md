# Spire_casestudy

This is a repository of Python code for the Spire Global Case study in the paper "Data sink selection using consensus leadership: improving spacecraft constellation target connectivity". This README captures the functionality of the code as of 14/07/2021. 

## Files
- Create_timeline.py : python script to propagate spacecraft motion, and assess contacts between spacecraft, targets and ground stations to generate a contact schedule for each spacecraft.
- create_sats_in_view.py : python script to create a matrix of the number of spacecraft in a view of a ground station at a given time.
- load_timeline_create_adj.py : python script to load in the created contact schedules and sats_in_view matrix and use to create an adjacency matrix capturing the time in contact between all elements in the system.
- Performance_get_data_delivered.py : python script to load in the contact schedule and simulate data transfer from targets to spacecraft and down to ground stations using a sub-set of ground stations selected from the available set.
- Performance_analysis.py : python script to load in the data transfer information created by Performance_get_data_delivered.py and calculate performance metrics for the system.
- supporting_funcs : python script containing supporting functions used by the other files.
- Plot_constellation.py : python script to plot the orbit parameters of the spacecraft being considered.


## Subfolders
- Data : holds satellite epoch parameters, ground station location, and target location data. Also includes the ground station selections made using the consensus and maximum flow methods for the presented case study.
- Timeline Files : stores the timelines for each spacecraft created by Create_timeline.py and the sats_in_view matrix created by create_sats_in_view.py. Due to the size of these files they are not included in the data pack but the folder is included to allow for error free execution of Create_timeline.py.
- Adjacency_matrices : holds the adjacency matrices generated by load_timeline_create_adj.py. In the folder adj_matrix_basic.csv is the adjacency matrix calculated as a summation of the times in contact for each edge. adj_matrix_basic_norm.csv is the same matrix normalised against the simulation length. adj_matrix_no_duplicates.csv calculates the edge weightings considering the number of spacecraft in view of a ground station at each timestep, as described in the paper. adj_matrix_no_duplicates_norm.csv is the same matrix normalised against the simulation length.
- Performance_files : stores the data transfer information and performance metrics created by Performance_get_data_delivered.py and Performance_analysis.py. Due to the size of the data transfer files they are not included in the data pack but the folder is included to allow for error free execution of the relevant code. The performance metrics files for the case study are included.


## Installation

Download the individual python files and run them in an appropriate environment.


## Execution
The provided files should be run in the following order:
1. Create_timeline.py
2. create_sats_in_view.py
3. load_timeline_create_adj.py
4. Performance_get_data_delivered.py
5. Performance_analysis.py 

- Plot_constellation.py can be run at any time independently of the other files.

Variables are edited directly within the python files.

**Dependencies**  
Requires numpy, scipy, pandas, matplotlib and time packages

